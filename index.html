<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>交易概况 - 京东商智</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <style>
        /* 基础样式 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "PingFang SC", "Microsoft YaHei", sans-serif;
        }
        body {
            background-color: #f5f7fa;
            color: #333;
            font-size: 14px;
        }
        
        /* 顶部导航栏 */
        .top-nav {
            background-color: #fff;
            height: 60px;
            line-height: 60px;
            padding: 0 20px;
            border-bottom: 1px solid #e5e9f2;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-indeX: 100;
        }
        .logo {
            display: flex;
            align-items: center;
        }
        .logo span {
            font-size: 18px;
            font-weight: bold;
            color: #e4393c;
        }
        .user-info {
            display: flex;
            align-items: center;
        }
        .user-info span {
            margin-right: 20px;
        }
        .user-info .avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background-color: #e4393c;
            color: #fff;
            text-align: center;
            line-height: 32px;
            margin-right: 10px;
        }
        
        /* 侧边导航栏 */
        .sidebar {
            width: 200px;
            background-color: #2c3e50;
            color: #fff;
            height: calc(100vh - 60px);
            float: left;
            position: fixed;
            overflow-y: auto;
        }
        .menu-item {
            padding: 12px 20px;
            cursor: pointer;
            transition: background-color 0.2s;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .menu-item:hover {
            background-color: #34495e;
        }
        .menu-item.active {
            background-color: #e4393c;
        }
        .menu-item i {
            margin-right: 10px;
        }
        .submenu {
            background-color: #34495e;
            display: none;
        }
        .submenu-item {
            padding: 10px 20px 10px 40px;
            cursor: pointer;
        }
        .submenu-item:hover {
            background-color: #415b76;
        }
        .submenu-item.active {
            color: #e4393c;
        }
        
        /* 主内容区 */
        .main-content {
            float: left;
            width: calc(100% - 200px);
            padding: 20px;
            margin-left: 200px;
        }
        .content-header {
            background-color: #fff;
            padding: 15px 20px;
            border-radius: 4px;
            margin-bottom: 20px;
        }
        .content-header h2 {
            font-size: 18px;
            font-weight: normal;
        }
        
        /* 筛选区域 */
        .filter-container {
            background-color: #fff;
            padding: 15px 20px;
            border-radius: 4px;
            margin-bottom: 20px;
        }
        .filter-row {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            flex-wrap: wrap;
        }
        .filter-item {
            margin-right: 20px;
            margin-bottom: 10px;
        }
        .filter-item label {
            margin-right: 10px;
        }
        .filter-item select, .filter-item input {
            padding: 6px 10px;
            border: 1px solid #e5e9f2;
            border-radius: 2px;
            min-width: 120px;
        }
        .filter-item .date-range {
            min-width: 240px;
        }
        .filter-btn {
            background-color: #e4393c;
            color: #fff;
            border: none;
            padding: 6px 15px;
            border-radius: 2px;
            cursor: pointer;
        }
        
        /* 月份选择器 */
        .month-selector {
            display: flex;
            align-items: center;
        }
        .month-btn {
            padding: 6px 10px;
            background-color: #f5f7fa;
            border: 1px solid #e5e9f2;
            cursor: pointer;
            margin: 0 5px;
        }
        .current-month {
            min-width: 120px;
            text-align: center;
            font-weight: bold;
        }
        
        /* 数据卡片 */
        .card-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 20px;
        }
        .data-card {
            background-color: #fff;
            border-radius: 4px;
            padding: 15px 20px;
            border: 1px solid #e5e9f2;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .data-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }
        .card-title {
            font-size: 14px;
            color: #666;
            margin-bottom: 10px;
        }
        .card-value {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        .card-trend {
            font-size: 12px;
        }
        .card-trend.up {
            color: #00b578;
        }
        .card-trend.down {
            color: #f53f3f;
        }
        
        /* 图表区域 */
        .chart-container {
            background-color: #fff;
            border-radius: 4px;
            padding: 15px 20px;
            border: 1px solid #e5e9f2;
            margin-bottom: 20px;
        }
        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        .chart-title {
            font-size: 16px;
            font-weight: bold;
        }
        .chart-tabs {
            display: flex;
        }
        .chart-tab {
            padding: 5px 15px;
            cursor: pointer;
            border-radius: 2px;
        }
        .chart-tab.active {
            background-color: #e4393c;
            color: #fff;
        }
        .chart-content {
            height: 350px;
        }
        
        /* 表格区域 */
        .table-container {
            background-color: #fff;
            border-radius: 4px;
            padding: 15px 20px;
            border: 1px solid #e5e9f2;
        }
        .table-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        .table-title {
            font-size: 16px;
            font-weight: bold;
        }
        .table-options {
            display: flex;
            align-items: center;
        }
        .table-options button {
            background-color: #f5f7fa;
            color: #333;
            border: 1px solid #e5e9f2;
            padding: 6px 15px;
            border-radius: 2px;
            cursor: pointer;
            margin-left: 10px;
        }
        .data-table {
            width: 100%;
            border-collapse: collapse;
        }
        .data-table th, .data-table td {
            padding: 10px;
            border: 1px solid #e5e9f2;
            text-align: center;
        }
        .data-table th {
            background-color: #f5f7fa;
            font-weight: normal;
        }
        .data-table tr:hover {
            background-color: #fafbfc;
        }
        
        /* 响应式设计 */
        @media (max-width: 1200px) {
            .card-container {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 768px) {
            .sidebar {
                display: none;
            }
            .main-content {
                width: 100%;
                margin-left: 0;
            }
            .filter-row {
                flex-direction: column;
                align-items: flex-start;
            }
            .chart-tabs {
                flex-wrap: wrap;
            }
            .chart-tab {
                margin-bottom: 5px;
            }
        }
        
        @media (max-width: 576px) {
            .card-container {
                grid-template-columns: 1fr;
            }
            .user-info span:not(:last-child) {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- 顶部导航 -->
    <div class="top-nav">
        <div class="logo">
            <span>京东商智</span>
        </div>
        <div class="user-info">
            <span>品牌版</span>
            <div class="avatar">正</div>
            <span>正聚卖场店</span>
            <i class="fa fa-angle-down"></i>
        </div>
    </div>

    <!-- 侧边导航 -->
    <div class="sidebar">
        <div class="menu-item active">
            <div><i class="fa fa-bar-chart"></i> 数据概览</div>
            <i class="fa fa-angle-down"></i>
        </div>
        <div class="menu-item">
            <div><i class="fa fa-shopping-cart"></i> 交易分析</div>
            <i class="fa fa-angle-right"></i>
        </div>
        <div class="submenu">
            <div class="submenu-item active">交易概况</div>
            <div class="submenu-item">销售排行</div>
            <div class="submenu-item">客群分析</div>
        </div>
        <div class="menu-item">
            <div><i class="fa fa-users"></i> 用户分析</div>
            <i class="fa fa-angle-right"></i>
        </div>
        <div class="menu-item">
            <div><i class="fa fa-search"></i> 流量分析</div>
            <i class="fa fa-angle-right"></i>
        </div>
        <div class="menu-item">
            <div><i class="fa fa-cubes"></i> 商品分析</div>
            <i class="fa fa-angle-right"></i>
        </div>
        <div class="menu-item">
            <div><i class="fa fa-tags"></i> 营销分析</div>
            <i class="fa fa-angle-right"></i>
        </div>
        <div class="menu-item">
            <div><i class="fa fa-cog"></i> 系统设置</div>
            <i class="fa fa-angle-right"></i>
        </div>
    </div>

    <!-- 主内容区 -->
    <div class="main-content">
        <div class="content-header">
            <h2>交易概况</h2>
        </div>
        
        <!-- 筛选区域 -->
        <div class="filter-container">
            <div class="filter-row">
                <div class="filter-item">
                    <!-- <label>月份：</label> -->
                    <div class="month-selector">
                        <button class="month-btn" id="prev-month"><i class="fa fa-angle-left"></i></button>
                        <div class="current-month" id="current-month">2025年03月</div>
                        <button class="month-btn" id="next-month"><i class="fa fa-angle-right"></i></button>
                    </div>
                </div>
                <div class="filter-item">
                    <label>对比：</label>
                    <select id="compare-select">
                        <option value="none">不对比</option>
                        <option value="lastMonth">环比上月</option>
                        <option value="sameMonthLastYear">同比去年同期</option>
                    </select>
                </div>
                <div class="filter-item">
                    <button class="filter-btn" id="query-btn">查询</button>
                </div>
            </div>
            <div class="filter-row">
                <div class="filter-item">
                    <label>店铺：</label>
                    <select id="store-select">
                        <option value="all">全部店铺</option>
                        <option value="self">自营店铺</option>
                        <option value="pop">POP店铺</option>
                    </select>
                </div>
                <div class="filter-item">
                    <label>品类：</label>
                    <select id="category-select">
                        <option value="all">全部品类</option>
                        <option value="phone">手机通讯</option>
                        <option value="homeAppliance">家用电器</option>
                        <option value="computer">电脑办公</option>
                    </select>
                </div>
                <div class="filter-item">
                    <label>品牌：</label>
                    <select id="brand-select">
                        <option value="all">全部品牌</option>
                        <option value="brandA">品牌A</option>
                        <option value="brandB">品牌B</option>
                        <option value="brandC">品牌C</option>
                    </select>
                </div>
                <div class="filter-item">
                    <label>经营模式：</label>
                    <select id="mode-select">
                        <option value="all">全部</option>
                        <option value="self">自营</option>
                        <option value="open">开放平台</option>
                    </select>
                </div>
            </div>
        </div>
        
        <!-- 数据卡片 -->
        <div class="card-container">
            <div class="data-card" id="card-pv">
                <div class="card-title">浏览量（PV）</div>
                <div class="card-value">73,486</div>
                <div class="card-trend up">
                    <i class="fa fa-arrow-up"></i> 76.25%
                </div>
            </div>
            <div class="data-card" id="card-uv">
                <div class="card-title">访客数（UV）</div>
                <div class="card-value">20,436</div>
                <div class="card-trend up">
                    <i class="fa fa-arrow-up"></i> 50.34%
                </div>
            </div>
            <div class="data-card" id="card-buyer">
                <div class="card-title">成交人数</div>
                <div class="card-value">558</div>
                <div class="card-trend up">
                    <i class="fa fa-arrow-up"></i> 125.00%
                </div>
            </div>
            <div class="data-card" id="card-conversion">
                <div class="card-title">成交转化率</div>
                <div class="card-value">2.73%</div>
                <div class="card-trend up">
                    <i class="fa fa-arrow-up"></i> 2.34%
                </div>
            </div>
            <div class="data-card" id="card-orders">
                <div class="card-title">成交单量</div>
                <div class="card-value">586</div>
                <div class="card-trend up">
                    <i class="fa fa-arrow-up"></i> 124.13%
                </div>
            </div>
            <div class="data-card" id="card-items">
                <div class="card-title">成交商品件数</div>
                <div class="card-value">765</div>
                <div class="card-trend up">
                    <i class="fa fa-arrow-up"></i> 135.68%
                </div>
            </div>
            <div class="data-card" id="card-gmv">
                <div class="card-title">成交金额（GMV）</div>
                <div class="card-value">¥895,246</div>
                <div class="card-trend up">
                    <i class="fa fa-arrow-up"></i> 156.23%
                </div>
            </div>
            <div class="data-card" id="card-price">
                <div class="card-title">成交客单价</div>
                <div class="card-value">¥1,597.21</div>
                <div class="card-trend up">
                    <i class="fa fa-arrow-up"></i> 13.78%
                </div>
            </div>
        </div>
        
        <!-- 图表区域 -->
        <div class="chart-container">
            <div class="chart-header">
                <div class="chart-title">成交金额趋势</div>
                <div class="chart-tabs">
                    <div class="chart-tab active" data-type="month">月度</div>
                    <div class="chart-tab" data-type="quarter">季度</div>
                    <div class="chart-tab" data-type="year">年度</div>
                </div>
            </div>
            <div class="chart-content" id="trend-chart"></div>
        </div>
        
        <!-- 表格区域 -->
        <div class="table-container">
            <div class="table-header">
                <div class="table-title">销售排行</div>
                <div class="table-options">
                    <select id="category-rank-select">
                        <option value="all">全部品类</option>
                        <option value="phone">手机通讯</option>
                        <option value="homeAppliance">家用电器</option>
                        <option value="computer">电脑办公</option>
                    </select>
                    <button id="export-btn">导出数据</button>
                </div>
            </div>
            <table class="data-table" id="rank-table">
                <thead>
                    <tr>
                        <th>排名</th>
                        <th>商品名称</th>
                        <th>品牌</th>
                        <th>单价</th>
                        <th>销量</th>
                        <th>销售额</th>
                        <th>同比增长</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>产品A</td>
                        <td>品牌A</td>
                        <td>¥1,299</td>
                        <td>156</td>
                        <td>¥202,644</td>
                        <td class="up">+125.32%</td>
                        <td><a href="#">详情</a></td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>产品B</td>
                        <td>品牌B</td>
                        <td>¥999</td>
                        <td>132</td>
                        <td>¥131,868</td>
                        <td class="up">+98.65%</td>
                        <td><a href="#">详情</a></td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>产品C</td>
                        <td>品牌C</td>
                        <td>¥1,599</td>
                        <td>105</td>
                        <td>¥167,895</td>
                        <td class="up">+85.21%</td>
                        <td><a href="#">详情</a></td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>产品D</td>
                        <td>品牌A</td>
                        <td>¥899</td>
                        <td>98</td>
                        <td>¥88,102</td>
                        <td class="up">+76.34%</td>
                        <td><a href="#">详情</a></td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td>产品E</td>
                        <td>品牌B</td>
                        <td>¥1,199</td>
                        <td>85</td>
                        <td>¥101,915</td>
                        <td class="up">+65.78%</td>
                        <td><a href="#">详情</a></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script>
        // 当前选中的月份
        let currentDate = new Date(2025, 2, 1); // 2025年3月
        
        // 模拟数据 - 按月份存储
        const monthlyData = {
            '2023-12': {
                pv: 42356, uv: 12456, buyerCount: 240, conversionRate: 1.93,
                orderCount: 250, itemCount: 320, gmv: 450000, avgPrice: 1875.00,
                growth: { pv: 32.5, uv: 28.6, buyerCount: 45.3, conversionRate: 0.8,
                         orderCount: 42.7, itemCount: 45.6, gmv: 56.8, avgPrice: 12.3 }
            },
            '2024-01': {
                pv: 42356, uv: 12456, buyerCount: 240, conversionRate: 1.93,
                orderCount: 250, itemCount: 320, gmv: 450000, avgPrice: 1875.00,
                growth: { pv: 32.5, uv: 28.6, buyerCount: 45.3, conversionRate: 0.8,
                         orderCount: 42.7, itemCount: 45.6, gmv: 56.8, avgPrice: 12.3 }
            },
            '2024-02': {
                pv: 51689, uv: 14567, buyerCount: 320, conversionRate: 2.2,
                orderCount: 340, itemCount: 420, gmv: 580000, avgPrice: 1796.87,
                growth: { pv: 22.0, uv: 16.9, buyerCount: 33.3, conversionRate: 1.2,
                         orderCount: 36.0, itemCount: 31.3, gmv: 28.9, avgPrice: -5.2 }
            },
            '2024-03': {
                pv: 48765, uv: 13876, buyerCount: 290, conversionRate: 2.09,
                orderCount: 310, itemCount: 380, gmv: 520000, avgPrice: 1793.10,
                growth: { pv: -5.6, uv: -4.7, buyerCount: -9.4, conversionRate: -0.5,
                         orderCount: -8.8, itemCount: -9.5, gmv: -10.3, avgPrice: -0.2 }
            },
            '2024-04': {
                pv: 62543, uv: 17654, buyerCount: 420, conversionRate: 2.38,
                orderCount: 450, itemCount: 580, gmv: 680000, avgPrice: 1619.05,
                growth: { pv: 28.2, uv: 27.2, buyerCount: 44.8, conversionRate: 14.0,
                         orderCount: 45.2, itemCount: 52.6, gmv: 30.8, avgPrice: -9.7 }
            },
            '2024-05': {
                pv: 68543, uv: 19234, buyerCount: 480, conversionRate: 2.5,
                orderCount: 510, itemCount: 650, gmv: 740000, avgPrice: 1541.67,
                growth: { pv: 9.6, uv: 9.0, buyerCount: 14.3, conversionRate: 5.0,
                         orderCount: 13.3, itemCount: 12.1, gmv: 8.8, avgPrice: -4.8 }
            },
            '2024-06': {
                pv: 65890, uv: 18654, buyerCount: 450, conversionRate: 2.41,
                orderCount: 480, itemCount: 610, gmv: 710000, avgPrice: 1577.78,
                growth: { pv: -3.9, uv: -3.0, buyerCount: -6.3, conversionRate: -3.6,
                         orderCount: -5.9, itemCount: -6.2, gmv: -4.1, avgPrice: 2.3 }
            },
            '2024-07': {
                pv: 75632, uv: 21345, buyerCount: 520, conversionRate: 2.44,
                orderCount: 550, itemCount: 700, gmv: 810000, avgPrice: 1557.69,
                growth: { pv: 14.8, uv: 14.4, buyerCount: 15.6, conversionRate: 1.2,
                         orderCount: 14.6, itemCount: 14.8, gmv: 14.1, avgPrice: -1.3 }
            },
            '2024-08': {
                pv: 81345, uv: 22678, buyerCount: 560, conversionRate: 2.47,
                orderCount: 590, itemCount: 750, gmv: 880000, avgPrice: 1571.43,
                growth: { pv: 7.6, uv: 6.2, buyerCount: 7.7, conversionRate: 1.2,
                         orderCount: 7.3, itemCount: 7.1, gmv: 8.6, avgPrice: 0.9 }
            },
            '2024-09': {
                pv: 72456, uv: 20145, buyerCount: 480, conversionRate: 2.38,
                orderCount: 510, itemCount: 650, gmv: 780000, avgPrice: 1625.00,
                growth: { pv: -10.9, uv: -11.1, buyerCount: -14.3, conversionRate: -3.6,
                         orderCount: -13.6, itemCount: -13.3, gmv: -11.4, avgPrice: 3.4 }
            },
            '2024-10': {
                pv: 87654, uv: 24567, buyerCount: 620, conversionRate: 2.52,
                orderCount: 650, itemCount: 830, gmv: 950000, avgPrice: 1532.26,
                growth: { pv: 20.9, uv: 21.9, buyerCount: 29.2, conversionRate: 5.9,
                         orderCount: 27.5, itemCount: 27.7, gmv: 21.8, avgPrice: -5.7 }
            },
            '2024-11': {
                pv: 93456, uv: 26134, buyerCount: 680, conversionRate: 2.6,
                orderCount: 720, itemCount: 920, gmv: 1020000, avgPrice: 1500.00,
                growth: { pv: 6.6, uv: 6.4, buyerCount: 9.7, conversionRate: 3.2,
                         orderCount: 10.8, itemCount: 10.8, gmv: 7.4, avgPrice: -2.1 }
            },
            '2024-12': {
                pv: 100345, uv: 28034, buyerCount: 740, conversionRate: 2.64,
                orderCount: 790, itemCount: 1000, gmv: 1100000, avgPrice: 1486.49,
                growth: { pv: 7.4, uv: 7.3, buyerCount: 8.8, conversionRate: 1.5,
                         orderCount: 9.7, itemCount: 8.7, gmv: 7.8, avgPrice: -0.9 }
            },
            '2025-01': {
                pv: 96543, uv: 27145, buyerCount: 700, conversionRate: 2.58,
                orderCount: 750, itemCount: 960, gmv: 1050000, avgPrice: 1500.00,
                growth: { pv: -3.8, uv: -3.2, buyerCount: -5.4, conversionRate: -2.3,
                         orderCount: -5.1, itemCount: -4.0, gmv: -4.5, avgPrice: 0.9 }
            },
            '2025-02': {
                pv: 89765, uv: 24876, buyerCount: 640, conversionRate: 2.57,
                orderCount: 680, itemCount: 860, gmv: 980000, avgPrice: 1531.25,
                growth: { pv: -7.0, uv: -8.4, buyerCount: -8.6, conversionRate: -0.4,
                         orderCount: -9.3, itemCount: -10.4, gmv: -6.7, avgPrice: 2.1 }
            },
            '2025-03': {
                pv: 73486, uv: 20436, buyerCount: 558, conversionRate: 2.73,
                orderCount: 586, itemCount: 765, gmv: 895246, avgPrice: 1597.21,
                growth: { pv: -18.1, uv: -18.2, buyerCount: -12.8, conversionRate: 6.2,
                         orderCount: -13.8, itemCount: -11.0, gmv: -8.7, avgPrice: 4.3 }
            },
            '2025-04': {
                pv: 73486, uv: 20436, buyerCount: 558, conversionRate: 2.73,
                orderCount: 586, itemCount: 765, gmv: 895246, avgPrice: 1597.21,
                growth: { pv: -18.1, uv: -18.2, buyerCount: -12.8, conversionRate: 6.2,
                         orderCount: -13.8, itemCount: -11.0, gmv: -8.7, avgPrice: 4.3 }
            },
            '2025-05': {
                pv: 73486, uv: 20436, buyerCount: 558, conversionRate: 2.73,
                orderCount: 586, itemCount: 765, gmv: 895246, avgPrice: 1597.21,
                growth: { pv: -18.1, uv: -18.2, buyerCount: -12.8, conversionRate: 6.2,
                         orderCount: -13.8, itemCount: -11.0, gmv: -8.7, avgPrice: 4.3 }
            },
            '2025-06': {
                pv: 73486, uv: 20436, buyerCount: 558, conversionRate: 2.73,
                orderCount: 586, itemCount: 765, gmv: 895246, avgPrice: 1597.21,
                growth: { pv: -18.1, uv: -18.2, buyerCount: -12.8, conversionRate: 6.2,
                         orderCount: -13.8, itemCount: -11.0, gmv: -8.7, avgPrice: 4.3 }
            }
        };
        
        // 销售排行数据 - 按月份存储
        const rankData = {
            '2025-03': [
                { rank: 1, name: '产品A', brand: '品牌A', price: 1299, sales: 156, revenue: 202644, growth: 125.32 },
                { rank: 2, name: '产品B', brand: '品牌B', price: 999, sales: 132, revenue: 131868, growth: 98.65 },
                { rank: 3, name: '产品C', brand: '品牌C', price: 1599, sales: 105, revenue: 167895, growth: 85.21 },
                { rank: 4, name: '产品D', brand: '品牌A', price: 899, sales: 98, revenue: 88102, growth: 76.34 },
                { rank: 5, name: '产品E', brand: '品牌B', price: 1199, sales: 85, revenue: 101915, growth: 65.78 }
            ],
            '2025-02': [
                { rank: 1, name: '产品C', brand: '品牌C', price: 1599, sales: 125, revenue: 199875, growth: 115.21 },
                { rank: 2, name: '产品A', brand: '品牌A', price: 1299, sales: 110, revenue: 142890, growth: 85.32 },
                { rank: 3, name: '产品B', brand: '品牌B', price: 999, sales: 98, revenue: 97902, growth: 78.65 },
                { rank: 4, name: '产品F', brand: '品牌C', price: 1499, sales: 85, revenue: 127415, growth: 65.21 },
                { rank: 5, name: '产品E', brand: '品牌B', price: 1199, sales: 75, revenue: 89925, growth: 55.78 }
            ],
            '2025-01': [
                { rank: 1, name: '产品A', brand: '品牌A', price: 1299, sales: 135, revenue: 175365, growth: 105.32 },
                { rank: 2, name: '产品C', brand: '品牌C', price: 1599, sales: 110, revenue: 175890, growth: 95.21 },
                { rank: 3, name: '产品G', brand: '品牌A', price: 1399, sales: 98, revenue: 137102, growth: 86.34 },
                { rank: 4, name: '产品B', brand: '品牌B', price: 999, sales: 85, revenue: 84915, growth: 68.65 },
                { rank: 5, name: '产品E', brand: '品牌B', price: 1199, sales: 70, revenue: 83930, growth: 45.78 }
            ]
        };

        // 初始化 ECharts 实例
        var trendChart = echarts.init(document.getElementById('trend-chart'));
        
        // 配置图表
        var chartOption = {
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'cross',
                    crossStyle: {
                        color: '#999'
                    }
                }
            },
            legend: {
                data: ['成交金额(元)', '成交单量', '成交人数']
            },
            xAxis: {
                type: 'category',
                data: ['1月', '2月', '3月', '4月', '5月', '6月', 
                       '7月', '8月', '9月', '10月', '11月', '12月'],
                axisLabel: {
                    rotate: 45,
                    interval: 0
                }
            },
            yAxis: [
                {
                    type: 'value',
                    name: '金额(元)',
                    min: 0,
                    interval: 200000,
                    axisLabel: {
                        formatter: '{value}'
                    }
                },
                {
                    type: 'value',
                    name: '数量',
                    min: 0,
                    interval: 200,
                    axisLabel: {
                        formatter: '{value}'
                    }
                }
            ],
            series: [
                {
                    name: '成交金额(元)',
                    type: 'line',
                    data: [500000, 620000, 580000, 750000, 820000, 790000, 
                           900000, 980000, 870000, 1050000, 1120000, 1200000],
                    color: '#e4393c'
                },
                {
                    name: '成交单量',
                    type: 'line',
                    yAxisIndex: 1,
                    data: [420, 510, 480, 620, 680, 650, 750, 810, 720, 880, 930, 1000],
                    color: '#36cbcb'
                },
                {
                    name: '成交人数',
                    type: 'line',
                    yAxisIndex: 1,
                    data: [380, 460, 430, 560, 610, 590, 680, 730, 650, 790, 840, 900],
                    color: '#00b578'
                }
            ]
        };
        
        // 设置图表选项
        trendChart.setOption(chartOption);
        
        // 窗口大小变化时重绘图表
        window.addEventListener('resize', function() {
            trendChart.resize();
        });
        
        // 更新当前显示的月份
        function updateCurrentMonth() {
            const year = currentDate.getFullYear();
            const month = String(currentDate.getMonth() + 1).padStart(2, '0');
            document.getElementById('current-month').textContent = `${year}年${month}月`;
        }
        
        // 获取当前月份的格式化字符串（YYYY-MM）
        function getFormattedDate(date) {
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            return `${year}-${month}`;
        }
        
        // 更新数据卡片
        function updateDataCards() {
            const formattedDate = getFormattedDate(currentDate);
            const data = monthlyData[formattedDate];
            
            if (!data) {
                // 如果没有数据，清空卡片
                document.querySelectorAll('.data-card').forEach(card => {
                    card.querySelector('.card-value').textContent = '-';
                    card.querySelector('.card-trend').innerHTML = '';
                });
                return;
            }
            
            // 更新卡片数据
            document.getElementById('card-pv').querySelector('.card-value').textContent = data.pv.toLocaleString();
            document.getElementById('card-uv').querySelector('.card-value').textContent = data.uv.toLocaleString();
            document.getElementById('card-buyer').querySelector('.card-value').textContent = data.buyerCount.toLocaleString();
            document.getElementById('card-conversion').querySelector('.card-value').textContent = `${data.conversionRate.toFixed(2)}%`;
            document.getElementById('card-orders').querySelector('.card-value').textContent = data.orderCount.toLocaleString();
            document.getElementById('card-items').querySelector('.card-value').textContent = data.itemCount.toLocaleString();
            document.getElementById('card-gmv').querySelector('.card-value').textContent = `¥${data.gmv.toLocaleString()}`;
            document.getElementById('card-price').querySelector('.card-value').textContent = `¥${data.avgPrice.toFixed(2)}`;
            
            // 更新增长趋势
            const compareType = document.getElementById('compare-select').value;
            let compareDate;
            
            if (compareType === 'lastMonth') {
                // 环比上月
                compareDate = new Date(currentDate);
                compareDate.setMonth(compareDate.getMonth() - 1);
            } else if (compareType === 'sameMonthLastYear') {
                // 同比去年同期
                compareDate = new Date(currentDate);
                compareDate.setFullYear(compareDate.getFullYear() - 1);
            } else {
                // 不对比，隐藏趋势
                document.querySelectorAll('.card-trend').forEach(trend => {
                    trend.innerHTML = '';
                });
                return;
            }
            
            const compareFormattedDate = getFormattedDate(compareDate);
            const compareData = monthlyData[compareFormattedDate];
            
            if (!compareData) {
                // 如果没有对比数据，隐藏趋势
                document.querySelectorAll('.card-trend').forEach(trend => {
                    trend.innerHTML = '';
                });
                return;
            }
            
            // 更新各指标的趋势
            updateTrend('card-pv', data.pv, compareData.pv, data.growth.pv);
            updateTrend('card-uv', data.uv, compareData.uv, data.growth.uv);
            updateTrend('card-buyer', data.buyerCount, compareData.buyerCount, data.growth.buyerCount);
            updateTrend('card-conversion', data.conversionRate, compareData.conversionRate, data.growth.conversionRate, true);
            updateTrend('card-orders', data.orderCount, compareData.orderCount, data.growth.orderCount);
            updateTrend('card-items', data.itemCount, compareData.itemCount, data.growth.itemCount);
            updateTrend('card-gmv', data.gmv, compareData.gmv, data.growth.gmv);
            updateTrend('card-price', data.avgPrice, compareData.avgPrice, data.growth.avgPrice);
        }
        
        // 更新单个指标的趋势
        function updateTrend(cardId, currentValue, compareValue, growthValue, isPercentage = false) {
            const trendElement = document.getElementById(cardId).querySelector('.card-trend');
            const isUp = growthValue >= 0;
            const changeType = isUp ? 'up' : 'down';
            const arrow = isUp ? 'fa-arrow-up' : 'fa-arrow-down';
            const arrowColor = isUp ? '#00b578' : '#f53f3f';
            
            let growthText;
            if (isPercentage) {
                // 百分比指标，显示差值
                growthText = `${growthValue >= 0 ? '+' : ''}${growthValue.toFixed(2)}%`;
            } else {
                // 其他指标，显示增长率
                const growthRate = ((currentValue - compareValue) / compareValue * 100);
                growthText = `${growthRate >= 0 ? '+' : ''}${growthRate.toFixed(2)}%`;
            }
            
            trendElement.className = `card-trend ${changeType}`;
            trendElement.innerHTML = `<i class="fa ${arrow}" style="color: ${arrowColor}"></i> ${growthText}`;
        }
        
        // 更新销售排行表格
        function updateRankTable() {
            const formattedDate = getFormattedDate(currentDate);
            const data = rankData[formattedDate] || [];
            const tableBody = document.getElementById('rank-table').querySelector('tbody');
            
            // 清空表格
            tableBody.innerHTML = '';
            
            // 填充表格数据
            if (data.length === 0) {
                const emptyRow = document.createElement('tr');
                emptyRow.innerHTML = `<td colspan="8" style="text-align: center; padding: 20px;">暂无数据</td>`;
                tableBody.appendChild(emptyRow);
                return;
            }
            
            data.forEach(item => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${item.rank}</td>
                    <td>${item.name}</td>
                    <td>${item.brand}</td>
                    <td>¥${item.price.toLocaleString()}</td>
                    <td>${item.sales.toLocaleString()}</td>
                    <td>¥${item.revenue.toLocaleString()}</td>
                    <td class="${item.growth >= 0 ? 'up' : 'down'}">${item.growth >= 0 ? '+' : ''}${item.growth.toFixed(2)}%</td>
                    <td><a href="#">详情</a></td>
                `;
                tableBody.appendChild(row);
            });
        }
        
        // 更新图表数据
        function updateChart() {
            // 获取当前月份
            const currentMonth = currentDate.getMonth();
            
            // 生成近12个月的数据
            const months = [];
            const gmvData = [];
            const orderData = [];
            const buyerData = [];
            
            for (let i = 11; i >= 0; i--) {
                const date = new Date(currentDate);
                date.setMonth(date.getMonth() - i);
                const formattedDate = getFormattedDate(date);
                const monthName = `${date.getMonth() + 1}月`;
                
                months.push(monthName);
                
                // 获取该月数据，如果没有则使用0
                const data = monthlyData[formattedDate] || { gmv: 0, orderCount: 0, buyerCount: 0 };
                gmvData.push(data.gmv);
                orderData.push(data.orderCount);
                buyerData.push(data.buyerCount);
            }
            
            // 更新图表选项
            chartOption.xAxis.data = months;
            chartOption.series[0].data = gmvData;
            chartOption.series[1].data = orderData;
            chartOption.series[2].data = buyerData;
            
            // 重新设置图表选项
            trendChart.setOption(chartOption);
        }
        
        // 查询按钮点击事件
        document.getElementById('query-btn').addEventListener('click', function() {
            updateDataCards();
            updateRankTable();
            updateChart();
        });
        
        // 上一个月按钮点击事件
        document.getElementById('prev-month').addEventListener('click', function() {
            currentDate.setMonth(currentDate.getMonth() - 1);
            updateCurrentMonth();
            updateDataCards();
            updateRankTable();
            updateChart();
        });
        
        // 下一个月按钮点击事件
        document.getElementById('next-month').addEventListener('click', function() {
            // 限制最大月份为当前月份
            const maxDate = new Date();
            if (currentDate.getFullYear() < maxDate.getFullYear() || 
                (currentDate.getFullYear() === maxDate.getFullYear() && currentDate.getMonth() < maxDate.getMonth())) {
                currentDate.setMonth(currentDate.getMonth() + 1);
                updateCurrentMonth();
                updateDataCards();
                updateRankTable();
                updateChart();
            }
        });
        
        // 对比选择变化事件
        document.getElementById('compare-select').addEventListener('change', function() {
            updateDataCards();
        });
        
        // 品类选择变化事件（销售排行）
        document.getElementById('category-rank-select').addEventListener('change', function() {
            // 实际项目中这里应该根据选择的品类筛选数据
            // 本示例中仅显示固定数据
            updateRankTable();
        });
        
        // 图表类型切换
        document.querySelectorAll('.chart-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                // 移除所有激活状态
                document.querySelectorAll('.chart-tab').forEach(t => {
                    t.classList.remove('active');
                });
                
                // 添加当前激活状态
                this.classList.add('active');
                
                // 根据选择的类型更新图表
                const type = this.getAttribute('data-type');
                
                if (type === 'month') {
                    // 月度数据 - 使用默认数据
                    updateChart();
                } else if (type === 'quarter') {
                    // 季度数据 - 模拟季度数据
                    chartOption.xAxis.data = ['Q1', 'Q2', 'Q3', 'Q4'];
                    chartOption.series[0].data = [1800000, 2500000, 2800000, 3500000];
                    chartOption.series[1].data = [1500, 2200, 2500, 3200];
                    chartOption.series[2].data = [1300, 2000, 2300, 3000];
                    trendChart.setOption(chartOption);
                } else if (type === 'year') {
                    // 年度数据 - 模拟年度数据
                    chartOption.xAxis.data = ['2021', '2022', '2023', '2024', '2025'];
                    chartOption.series[0].data = [8000000, 9500000, 11000000, 13000000, 15000000];
                    chartOption.series[1].data = [7000, 8500, 10000, 12000, 14000];
                    chartOption.series[2].data = [6500, 8000, 9500, 11000, 13000];
                    trendChart.setOption(chartOption);
                }
            });
        });
        
        // 导出数据按钮点击事件
        document.getElementById('export-btn').addEventListener('click', function() {
            alert('数据导出功能将在未来版本中提供');
        });
        
        // 初始化页面
        updateCurrentMonth();
        updateDataCards();
        updateRankTable();
        updateChart();
        
        // 侧边栏菜单点击事件
        document.querySelectorAll('.menu-item').forEach(item => {
            item.addEventListener('click', function() {
                // 移除所有激活状态
                document.querySelectorAll('.menu-item').forEach(i => {
                    i.classList.remove('active');
                });
                
                // 添加当前激活状态
                this.classList.add('active');
                
                // 更新箭头图标
                document.querySelectorAll('.menu-item i.fa-angle-down, .menu-item i.fa-angle-right').forEach(icon => {
                    icon.className = 'fa fa-angle-right';
                });
                const arrowIcon = this.querySelector('i.fa-angle-down, i.fa-angle-right');
                if (arrowIcon) {
                    arrowIcon.className = 'fa fa-angle-down';
                }
                
                // 切换子菜单显示状态
                const submenu = this.nextElementSibling;
                if (submenu && submenu.classList.contains('submenu')) {
                    submenu.style.display = submenu.style.display === 'block' ? 'none' : 'block';
                } else {
                    // 如果点击的是没有子菜单的菜单项，隐藏所有子菜单
                    document.querySelectorAll('.submenu').forEach(s => {
                        s.style.display = 'none';
                    });
                }
            });
        });
        
        // 子菜单点击事件
        document.querySelectorAll('.submenu-item').forEach(item => {
            item.addEventListener('click', function() {
                // 移除所有激活状态
                document.querySelectorAll('.submenu-item').forEach(i => {
                    i.classList.remove('active');
                });
                
                // 添加当前激活状态
                this.classList.add('active');
            });
        });
        
        // 初始化时显示第一个子菜单
        document.querySelector('.submenu').style.display = 'block';
        document.querySelector('.menu-item.active i.fa-angle-right').className = 'fa fa-angle-down';
    </script>
</body>
</html>    </div>
